<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="no"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>CreateGameController.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">paths</a> &gt; <a href="index.source.html" class="el_package">edu.ntnu.idatt2001.Controller</a> &gt; <span class="el_source">CreateGameController.java</span></div><h1>CreateGameController.java</h1><pre class="source lang-java linenums">package edu.ntnu.idatt2001.Controller;

import edu.ntnu.idatt2001.Goal.Goal;
import edu.ntnu.idatt2001.Model.GameManager;
import edu.ntnu.idatt2001.View.CreateGameView;
import javafx.collections.ObservableList;
import javafx.stage.Stage;

/**
 * The type Create game controller.
 */
public class CreateGameController {
  private final Stage stage;
  private final GameManager gameManager;
  /**
   * The Scene controller.
   */
<span class="nc" id="L18">  SceneController sceneController = new SceneController();</span>
  private final boolean gameIsConstructed;
  
  /**
   * Instantiates a new Create game controller.
   *
   * @param stage       the stage
   * @param gameManager the game manager
   */
<span class="nc" id="L27">  public CreateGameController(Stage stage, GameManager gameManager){</span>
<span class="nc" id="L28">    this.gameManager = gameManager;</span>
<span class="nc" id="L29">    constructGame();</span>
<span class="nc bnc" id="L30" title="All 2 branches missed.">    gameIsConstructed = gameManager.getGame() != null;</span>
<span class="nc" id="L31">    this.stage = stage;</span>
<span class="nc" id="L32">    CreateGameView view = new CreateGameView(this);</span>
<span class="nc" id="L33">    stage.setScene(view.setup());</span>
<span class="nc" id="L34">    stage.show();</span>
<span class="nc" id="L35">  }</span>
  
  /**
   * Get story name string.
   *
   * @return the string
   */
  public String getStoryName(){
    try {
<span class="nc" id="L44">      return gameManager.getStoryTitle();</span>
<span class="nc" id="L45">    } catch (Exception e){</span>
<span class="nc" id="L46">      return &quot;The story has not been added&quot;;</span>
    }
  }
  
  /**
   * Get player name string.
   *
   * @return the string
   */
  public String getPlayerName(){
    try {
<span class="nc" id="L57">      return gameManager.getPlayerName();</span>
<span class="nc" id="L58">    } catch (Exception e){</span>
<span class="nc" id="L59">      return &quot;The player has not been added&quot;;</span>
    }
  }
  
  /**
   * Get goals list observable list.
   *
   * @return the observable list
   */
  public ObservableList&lt;Goal&gt; getGoalsList(){
<span class="nc" id="L69">    return gameManager.getGoals();</span>
  }
  
  /**
   * Main menu.
   */
  public void mainMenu() {
<span class="nc" id="L76">    sceneController.switchScene(stage, 1, gameManager);</span>
<span class="nc" id="L77">  }</span>
  
  /**
   * Create story.
   */
  public void createStory() {
<span class="nc" id="L83">    sceneController.switchScene(stage, 3, gameManager);</span>
<span class="nc" id="L84">  }</span>
  
  /**
   * Create player.
   */
  public void createPlayer() {
<span class="nc" id="L90">    sceneController.switchScene(stage, 4, gameManager);</span>
<span class="nc" id="L91">  }</span>
  
  /**
   * Create goals.
   */
  public void createGoals() {
<span class="nc" id="L97">    sceneController.switchScene(stage, 5, gameManager);</span>
<span class="nc" id="L98">  }</span>
  
  /**
   * Play game.
   */
  public void playGame() {
<span class="nc" id="L104">    sceneController.switchScene(stage, 6, gameManager);</span>
<span class="nc" id="L105">  }</span>
  
  private void constructGame(){
<span class="nc" id="L108">    boolean player = gameManager.playerHasBeenAdded();</span>
<span class="nc" id="L109">    boolean story = gameManager.storyHasBeenAdded();</span>
<span class="nc bnc" id="L110" title="All 2 branches missed.">    boolean goals = !gameManager.getGoals().isEmpty();</span>
    
<span class="nc bnc" id="L112" title="All 8 branches missed.">    if(!gameIsConstructed &amp;&amp; player &amp;&amp; story &amp;&amp; goals){</span>
<span class="nc" id="L113">      gameManager.createGame();</span>
    }
<span class="nc" id="L115">  }</span>
  
  /**
   * Is game constructed boolean.
   *
   * @return the boolean
   */
  public boolean isGameConstructed(){
<span class="nc" id="L123">    return gameIsConstructed;</span>
  }

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>