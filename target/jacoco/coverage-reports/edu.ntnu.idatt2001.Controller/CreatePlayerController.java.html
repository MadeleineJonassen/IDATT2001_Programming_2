<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="no"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>CreatePlayerController.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">paths</a> &gt; <a href="index.source.html" class="el_package">edu.ntnu.idatt2001.Controller</a> &gt; <span class="el_source">CreatePlayerController.java</span></div><h1>CreatePlayerController.java</h1><pre class="source lang-java linenums">package edu.ntnu.idatt2001.Controller;

import edu.ntnu.idatt2001.GUI.MainMenu;
import edu.ntnu.idatt2001.Model.GameManager;
import edu.ntnu.idatt2001.Players.Player;
import edu.ntnu.idatt2001.View.CreateGameView;
import edu.ntnu.idatt2001.View.CreatePlayerView;
import edu.ntnu.idatt2001.View.CreateStoryView;
import edu.ntnu.idatt2001.View.MainMenuView;
import javafx.collections.ObservableList;
import javafx.scene.control.TextField;
import javafx.stage.Stage;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

import static edu.ntnu.idatt2001.GUI.MainMenu.playerErrorIcon;

/**
 * The type Create player controller.
 */
public class CreatePlayerController {
  private final GameManager gameManager;
  private final Stage stage;
<span class="nc" id="L26">  private final SceneController sceneController = new SceneController();</span>
  
  /**
   * Instantiates a new Create player controller.
   *
   * @param stage       the stage
   * @param gameManager the game manager
   */
<span class="nc" id="L34">  public CreatePlayerController(Stage stage, GameManager gameManager){</span>
<span class="nc" id="L35">    this.gameManager = gameManager;</span>
<span class="nc" id="L36">    this.stage = stage;</span>
<span class="nc" id="L37">    CreatePlayerView view = new CreatePlayerView(this);</span>
<span class="nc" id="L38">    stage.setScene(view.setup());</span>
<span class="nc" id="L39">    stage.show();</span>
<span class="nc" id="L40">  }</span>
  
  /**
   * Get player info observable list.
   *
   * @return the observable list
   */
  public ObservableList&lt;String&gt; getPlayerInfo(){
<span class="nc" id="L48">    return gameManager.getPlayerInfo();</span>
  }
  
  /**
   * Create game.
   *
   */
  public void createGame() {
<span class="nc" id="L56">    sceneController.switchScene(stage, 2, gameManager);</span>
<span class="nc" id="L57">  }</span>
  
  
  /**
   * Submit player.
   *
   * @param name           the name
   * @param healthInput    the health input
   * @param scoreInput     the score input
   * @param goldInput      the gold input
   * @param inventoryInput the inventory input
   */
  public void submitPlayer(String name, String healthInput, String scoreInput, String goldInput, String inventoryInput) {
<span class="nc bnc" id="L70" title="All 2 branches missed.">    if(name.isBlank()){</span>
<span class="nc" id="L71">      throw new IllegalArgumentException(&quot;Name must be filled out&quot;);</span>
    }
<span class="nc bnc" id="L73" title="All 2 branches missed.">    if(healthInput.isBlank()){</span>
<span class="nc" id="L74">      throw new IllegalArgumentException(&quot;Health must be filled out&quot;);</span>
    }
<span class="nc bnc" id="L76" title="All 2 branches missed.">    if(goldInput.isBlank()){</span>
<span class="nc" id="L77">      throw new IllegalArgumentException(&quot;Gold amount must be filled out&quot;);</span>
    }
<span class="nc" id="L79">    int health = Integer.parseInt(healthInput);</span>
<span class="nc" id="L80">    int gold = Integer.parseInt(goldInput);</span>
<span class="nc" id="L81">    int score = 0;</span>
<span class="nc bnc" id="L82" title="All 2 branches missed.">    if(!scoreInput.isBlank()){</span>
<span class="nc" id="L83">      score = Integer.parseInt(scoreInput);</span>
    }
<span class="nc" id="L85">    List&lt;String&gt; inventory = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L86" title="All 2 branches missed.">    if(!inventoryInput.isBlank()){</span>
<span class="nc" id="L87">      inventory = Arrays.stream(inventoryInput.split(&quot;, &quot;)).toList();</span>
    }
 
<span class="nc" id="L90">    Player player = new Player.Builder(name, health, gold).score(score).inventory(inventory).build();</span>
<span class="nc" id="L91">    gameManager.setPlayer(player);</span>
<span class="nc" id="L92">    createGame();</span>
<span class="nc" id="L93">  }</span>
  
  /**
   * Sets string.
   *
   * @return the string
   */
  
  public static boolean isString(){
    try{
     /* .\\d+. */
      //TODO: check to see if input is an integer
<span class="nc" id="L105">      return true;</span>
<span class="nc" id="L106">    } catch(Exception e) {</span>
<span class="nc" id="L107">      MainMenu.playerName.setPromptText(&quot;Please input a valid name&quot;);</span>
<span class="nc" id="L108">      MainMenu.playerInventory.setPromptText(&quot;Please input a valid item&quot;);</span>
<span class="nc" id="L109">      return false;</span>
    }
  }
  
  /**
   * Is int boolean.
   *
   * @return the boolean
   */
  public static boolean isInt() {
    try{
<span class="nc" id="L120">      int health = Integer.parseInt(MainMenu.playerHealth.getText());</span>
<span class="nc" id="L121">      int gold = Integer.parseInt(MainMenu.playerGold.getText());</span>
<span class="nc" id="L122">      int score = Integer.parseInt(MainMenu.playerScore.getText());</span>
<span class="nc" id="L123">      return true;</span>
<span class="nc" id="L124">    } catch(NumberFormatException e) {</span>
<span class="nc" id="L125">      MainMenu.playerHealth.setPromptText(&quot;Please input a valid number&quot;);</span>
<span class="nc" id="L126">      MainMenu.playerHealth.getStyleClass().add(&quot;errorText&quot;);</span>
<span class="nc" id="L127">      MainMenu.playerGold.setPromptText(&quot;Please input a valid number&quot;);</span>
<span class="nc" id="L128">      MainMenu.playerGold.getStyleClass().add(&quot;errorText&quot;);</span>
<span class="nc" id="L129">      MainMenu.playerScore.setPromptText(&quot;Please input a valid number&quot;);</span>
<span class="nc" id="L130">      MainMenu.playerScore.getStyleClass().add(&quot;errorText&quot;);</span>
<span class="nc" id="L131">      MainMenu.playerErrorIcon.getStyleClass().add(&quot;errorImage&quot;);</span>

<span class="nc" id="L133">      return false;</span>
    }
  }
  
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>