


<!DOCTYPE html>
<html id="htmlId">
<head>
  <title>Coverage Report > GameManager</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">edu.ntnu.idatt2001.model</a>
</div>

<h1>Coverage Summary for Class: GameManager (edu.ntnu.idatt2001.model)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">GameManager</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (20/20)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    98,1%
  </span>
  <span class="absValue">
    (52/53)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package edu.ntnu.idatt2001.model;
&nbsp;
&nbsp;
&nbsp;import edu.ntnu.idatt2001.Goal.Goal;
&nbsp;
&nbsp;import java.util.*;
&nbsp;import java.util.stream.Collectors;
&nbsp;import javafx.collections.FXCollections;
&nbsp;import javafx.collections.ObservableList;
&nbsp;
&nbsp;
&nbsp;/**
&nbsp; * The type Game manager.
&nbsp; */
<b class="fc">&nbsp;public class GameManager {</b>
&nbsp;  private Game game;
&nbsp;  private PlayGameModel startedGame;
&nbsp;  private Story story;
&nbsp;  private Player player;
<b class="fc">&nbsp;  private final ObservableList&lt;Goal&gt; goalsList = FXCollections.observableList(new ArrayList&lt;&gt;());</b>
<b class="fc">&nbsp;  private ObservableList&lt;String&gt; playerList = FXCollections.observableList(new ArrayList&lt;&gt;());</b>
&nbsp;  
&nbsp;  /**
&nbsp;   * Set story.
&nbsp;   *
&nbsp;   * @param story the story
&nbsp;   */
&nbsp;  public void setStory(Story story) {
<b class="fc">&nbsp;    this.story = story;</b>
&nbsp;  }
&nbsp;  
&nbsp;  /**
&nbsp;   * Set player.
&nbsp;   *
&nbsp;   * @param player the player
&nbsp;   */
&nbsp;  public void setPlayer(Player player) {
<b class="fc">&nbsp;    this.player = player;</b>
<b class="fc">&nbsp;    playerList.clear();</b>
<b class="fc">&nbsp;    playerList.addAll(player.getName(),</b>
<b class="fc">&nbsp;            Integer.toString(player.getHealth()),</b>
<b class="fc">&nbsp;            Integer.toString(player.getGold()),</b>
<b class="fc">&nbsp;            Integer.toString(player.getScore()),</b>
<b class="fc">&nbsp;            player.getInventory().toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;));</b>
&nbsp;  }
&nbsp;  
&nbsp;  /**
&nbsp;   * Add goal.
&nbsp;   *
&nbsp;   * @param goal the goal
&nbsp;   */
&nbsp;  public void addGoal(Goal goal) {
<b class="fc">&nbsp;    if (goalsList.contains(goal)) {</b>
<b class="nc">&nbsp;      throw new IllegalArgumentException(&quot;Goal has already been added.&quot;);</b>
&nbsp;    }
<b class="fc">&nbsp;    goalsList.add(goal);</b>
&nbsp;  }
&nbsp;  
&nbsp;  /**
&nbsp;   * Get goals observable list.
&nbsp;   *
&nbsp;   * @return the observable list
&nbsp;   */
&nbsp;  public ObservableList&lt;Goal&gt; getGoals() {
<b class="fc">&nbsp;    return goalsList;</b>
&nbsp;  }
&nbsp;  
&nbsp;  /**
&nbsp;   * Get player info observable list.
&nbsp;   *
&nbsp;   * @return the observable list
&nbsp;   */
&nbsp;  public ObservableList&lt;String&gt; getPlayerInfo() {
<b class="fc">&nbsp;    return playerList;</b>
&nbsp;  }
&nbsp;  
&nbsp;  /**
&nbsp;   * Clear goals.
&nbsp;   */
&nbsp;  public void clearGoals() {
<b class="fc">&nbsp;    goalsList.clear();</b>
&nbsp;  }
&nbsp;  
&nbsp;  /**
&nbsp;   * Story has been added boolean.
&nbsp;   *
&nbsp;   * @return the boolean
&nbsp;   */
&nbsp;  public boolean storyHasBeenAdded() {
<b class="fc">&nbsp;    return (story != null);</b>
&nbsp;  }
&nbsp;  
&nbsp;  /**
&nbsp;   * Player has been added boolean.
&nbsp;   *
&nbsp;   * @return the boolean
&nbsp;   */
&nbsp;  public boolean playerHasBeenAdded() {
<b class="fc">&nbsp;    return (player != null);</b>
&nbsp;  }
&nbsp;  
&nbsp;  /**
&nbsp;   * Create game.
&nbsp;   */
&nbsp;  public void createGame() {
<b class="fc">&nbsp;    if (this.story == null) {</b>
<b class="fc">&nbsp;      throw new NullPointerException(&quot;Story has not been added&quot;);</b>
&nbsp;    }
<b class="fc">&nbsp;    if (this.player == null) {</b>
<b class="fc">&nbsp;      throw new NullPointerException(&quot;Player has not been added&quot;);</b>
&nbsp;    }
<b class="fc">&nbsp;    if (this.goalsList.isEmpty()) {</b>
<b class="fc">&nbsp;      throw new NullPointerException(&quot;Goals have not been added&quot;);</b>
&nbsp;    }
<b class="fc">&nbsp;    this.game = new Game(this.player, this.story, this.goalsList.stream().toList());</b>
&nbsp;  }
&nbsp;  
&nbsp;  /**
&nbsp;   * Get game game.
&nbsp;   *
&nbsp;   * @return the game
&nbsp;   */
&nbsp;  public Game getGame() {
<b class="fc">&nbsp;    if (this.game == null) {</b>
<b class="fc">&nbsp;      return null;</b>
&nbsp;    }
&nbsp;    
<b class="fc">&nbsp;    return new Game(game);</b>
&nbsp;  }
&nbsp;  
&nbsp;  /**
&nbsp;   * Set game in progress.
&nbsp;   *
&nbsp;   * @param gameInProgress the game in progress
&nbsp;   */
&nbsp;  public void setGameInProgress(PlayGameModel gameInProgress) {
<b class="fc">&nbsp;    this.startedGame = gameInProgress;</b>
&nbsp;  }
&nbsp;  
&nbsp;  /**
&nbsp;   * Get game in progress play game model.
&nbsp;   *
&nbsp;   * @return the play game model
&nbsp;   */
&nbsp;  public PlayGameModel getGameInProgress() {
<b class="fc">&nbsp;    return startedGame;</b>
&nbsp;  }
&nbsp;  
&nbsp;  /**
&nbsp;   * Get player name string.
&nbsp;   *
&nbsp;   * @return the string
&nbsp;   */
&nbsp;  public String getPlayerName() {
<b class="fc">&nbsp;    if (this.player == null) {</b>
<b class="fc">&nbsp;      throw new IllegalArgumentException(&quot;The player is not defined&quot;);</b>
&nbsp;    }
<b class="fc">&nbsp;    return player.getName();</b>
&nbsp;  }
&nbsp;  
&nbsp;  /**
&nbsp;   * Get player player.
&nbsp;   *
&nbsp;   * @return the player
&nbsp;   */
&nbsp;  public Player getPlayer() {
<b class="fc">&nbsp;    if (player == null) {</b>
<b class="fc">&nbsp;      throw new IllegalArgumentException(&quot;Player has not been added.&quot;);</b>
&nbsp;    }
<b class="fc">&nbsp;    return player;</b>
&nbsp;  }
&nbsp;  
&nbsp;  /**
&nbsp;   * Get broken links list.
&nbsp;   *
&nbsp;   * @return the list
&nbsp;   */
&nbsp;  public List&lt;String&gt; getBrokenLinks() {
<b class="fc">&nbsp;    if (this.story == null) {</b>
<b class="fc">&nbsp;      throw new IllegalArgumentException(&quot;The story is not defined&quot;);</b>
&nbsp;    }
&nbsp;    
<b class="fc">&nbsp;    List&lt;Link&gt; links = this.story.getBrokenLinks();</b>
&nbsp;    
<b class="fc">&nbsp;    List&lt;String&gt; linkNames = new ArrayList&lt;&gt;();</b>
<b class="fc">&nbsp;    for (Link l : links) {</b>
<b class="fc">&nbsp;      linkNames.add(l.getText());</b>
<b class="fc">&nbsp;    }</b>
<b class="fc">&nbsp;    return linkNames;</b>
&nbsp;  }
&nbsp;  
&nbsp;  /**
&nbsp;   * Delete broken links.
&nbsp;   */
&nbsp;  public void deleteBrokenLinks() {
<b class="fc">&nbsp;    story.deleteBrokenLinks();</b>
&nbsp;  }
&nbsp;  
&nbsp;  /**
&nbsp;   * Get story title string.
&nbsp;   *
&nbsp;   * @return the string
&nbsp;   */
&nbsp;  public String getStoryTitle() {
<b class="fc">&nbsp;    if (this.story == null) {</b>
<b class="fc">&nbsp;      throw new NullPointerException(&quot;Story must be added first&quot;);</b>
&nbsp;    }
<b class="fc">&nbsp;    return story.getTitle();</b>
&nbsp;  }
&nbsp;  
&nbsp;  private Collection&lt;Passage&gt; getStoryPassages() {
<b class="fc">&nbsp;    if (this.story == null) {</b>
<b class="fc">&nbsp;      throw new NullPointerException(&quot;Story must be added first&quot;);</b>
&nbsp;    }
&nbsp;    
<b class="fc">&nbsp;    return this.story.getPassages();</b>
&nbsp;  }
&nbsp;  
&nbsp;  /**
&nbsp;   * Get story passage names set.
&nbsp;   *
&nbsp;   * @return the set
&nbsp;   */
&nbsp;  public Set&lt;String&gt; getStoryPassageNames() {
<b class="fc">&nbsp;    return getStoryPassages().stream().map(Passage::getTitle).collect(Collectors.toSet());</b>
&nbsp;  }
&nbsp;  
&nbsp;  
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2023-05-23 12:06</div>
</div>
</body>
</html>
